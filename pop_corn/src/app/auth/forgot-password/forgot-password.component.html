<div class="container">
  <div class="card">
    <div class="logo-container">
      <img src="assets/images/logo.png" alt="Pop&Corn Logo">
    </div>

    <!-- Vista Inicial: Formulário para inserir o email -->
    <ng-container *ngIf="viewState() === 'initial'">
      <h2>Recuperar Senha</h2>
      <p class="subtitle">Insira o seu email e enviaremos um link para redefinir a sua senha.</p>
      <form #forgotPasswordForm="ngForm" (ngSubmit)="onSubmit(forgotPasswordForm)" novalidate>
        <div class="form-group">
          <input 
            type="email" 
            name="email" 
            placeholder="Seu email de registo"
            [(ngModel)]="email"
            required
            email>
        </div>
        <button type="submit" class="submit-button" [disabled]="forgotPasswordForm.invalid">Enviar Link de Recuperação</button>
      </form>
    </ng-container>

    <!-- Vista de Sucesso: Mensagem de confirmação -->
    <ng-container *ngIf="viewState() === 'submitted'">
      <div class="confirmation-view">
        <span class="material-icons success-icon">mark_email_read</span>
        <h2>Verifique o seu Email</h2>
        <p class="subtitle">
          Se existir uma conta associada a <strong>{{ email }}</strong>, enviámos as instruções para redefinir a sua senha.
        </p>
      </div>
    </ng-container>

    <hr class="divider">

    <div class="footer-link">
      <a routerLink="/login">Voltar para o Login</a>
    </div>
  </div>
</div>